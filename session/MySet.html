<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/dialog.css">
    <title>Document</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script>
        $(document).ready(function(event) {
         // Impedisce il comportamento predefinito del modulo
            var jsonString = localStorage.getItem("mySet");
            if(jsonString){
                var oggetti = JSON.parse(jsonString);

                // ciclo su tutti gli oggetti e accedi alle loro proprietà
                for (var i = 0; i < oggetti.length; i++) {
                    var oggetto = oggetti[i];
                    getImg(oggetto.set_id);
                }  
            }
            else{
                var alert = $('.alert.success');
                    alert.find('.alertText').html("Non ci sono LEGO® set");
                    alert.show(); 
            }

        });

        

    </script>
</head>
<body>
    <ul id="lista"></ul>

    

    <div id="dialog" class="dialog-container">
        <span class="dialog-close">X</span>
        <h2 id="setName"></h2>
        <img id="img-content">
        <ul id="dialog-content">
        </ul>
    </div>

    <script>
        var listContainer = document.getElementById('lista');
        listContainer.addEventListener('click', handleElementClick);

        var dialogClose = document.querySelector('.dialog-close');
        dialogClose.addEventListener('click', closeDialog);
    </script>
</body>
</html>